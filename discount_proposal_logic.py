def υπολογισμός_έκπτωσης(
    τρέχουσες_πωλήσεις,
    κόστος_πωλήσεων,
    επιπλέον_πωλήσεις_λόγω_έκπτωσης,
    έκπτωση_πληρωμή_τοις_μετρητοίς,
    ποσοστό_πωλήσεων_με_έκπτωση,
    μέρες_είσπραξης_με_έκπτωση,
    ποσοστό_πωλήσεων_χωρίς_έκπτωση,
    μέρες_είσπραξης_χωρίς_έκπτωση,
    μέρες_προθεσμίας_πληρωμής_τοις_μετρητοίς,
    ποσοστό_πωλήσεων_με_έκπτωση_μετά_την_αύξηση,
    ποσοστό_πωλήσεων_χωρίς_έκπτωση_μετά_την_αύξηση,
    %_τρέχουσες_επισφάλειες,
    %_μείωσης_επισφαλειών_λόγω_μετρητών,
    κόστος_κεφαλαίου,
    μέση_περίοδος_αποπληρωμής_προμηθευτών
):
    # Μέση περίοδος είσπραξης απαιτήσεων τώρα
    μέση_περίοδος_είσπραξης_απαιτήσεων = (
        μέρες_είσπραξης_με_έκπτωση * ποσοστό_πωλήσεων_με_έκπτωση
        + μέρες_είσπραξης_χωρίς_έκπτωση * ποσοστό_πωλήσεων_χωρίς_έκπτωση
    )

    # Τρέχουσες απαιτήσεις
    τρέχουσες_απαιτήσεις = τρέχουσες_πωλήσεις * μέση_περίοδος_είσπραξης_απαιτήσεων / 365

    # Νέα μέση περίοδος είσπραξης μετά την αύξηση πωλήσεων
    μέση_περίοδος_είσπραξης_μετά = (
        μέρες_προθεσμίας_πληρωμής_τοις_μετρητοίς * ποσοστό_πωλήσεων_με_έκπτωση_μετά_την_αύξηση
        + μέρες_είσπραξης_χωρίς_έκπτωση * ποσοστό_πωλήσεων_χωρίς_έκπτωση_μετά_την_αύξηση
    )

    # Απαιτήσεις μετά την αύξηση πωλήσεων
    απαιτήσεις_μετά = (
        (τρέχουσες_πωλήσεις + επιπλέον_πωλήσεις_λόγω_έκπτωσης) * μέση_περίοδος_είσπραξης_μετά
    ) / 365

    # Αποδέσμευση κεφαλαίων
    αποδέσμευση_κεφαλαίων = τρέχουσες_απαιτήσεις - απαιτήσεις_μετά

    # Κέρδος από επιπλέον πωλήσεις
    κέρδος_επιπλέον_πωλήσεων = επιπλέον_πωλήσεις_λόγω_έκπτωσης * (
        (τρέχουσες_πωλήσεις - κόστος_πωλήσεων) / τρέχουσες_πωλήσεις
    )

    # Κέρδος αποδέσμευσης κεφαλαίων
    κέρδος_αποδέσμευσης = αποδέσμευση_κεφαλαίων * κόστος_κεφαλαίου

    # Κέρδος μείωσης επισφαλειών
    κέρδος_μείωσης_επισφαλειών = (
        τρέχουσες_πωλήσεις * %_τρέχουσες_επισφάλειες
        - (τρέχουσες_πωλήσεις + επιπλέον_πωλήσεις_λόγω_έκπτωσης) * %_μείωσης_επισφαλειών_λόγω_μετρητών
    )

    # Κόστος έκπτωσης
    κόστος_έκπτωσης = (
        (τρέχουσες_πωλήσεις + επιπλέον_πωλήσεις_λόγω_έκπτωσης)
        * ποσοστό_πωλήσεων_με_έκπτωση_μετά_την_αύξηση
        * έκπτωση_πληρωμή_τοις_μετρητοίς
    )

    # Εκτιμώμενο συνολικό κέρδος
    συνολικό_κέρδος = (
        κέρδος_επιπλέον_πωλήσεων
        + κέρδος_αποδέσμευσης
        + κέρδος_μείωσης_επισφαλειών
        - κόστος_έκπτωσης
    )

    # Μέγιστη έκπτωση που μπορεί να δοθεί επί των πωλήσεων
    μέγιστη_έκπτωση = 1 - (
        (1 + (κόστος_κεφαλαίου / 365)) ** (μέρες_προθεσμίας_πληρωμής_τοις_μετρητοίς - μέρες_είσπραξης_χωρίς_έκπτωση)
    ) * (
        1
        - (1 / ποσοστό_πωλήσεων_με_έκπτωση_μετά_την_αύξηση)
        + (
            (1 - %_τρέχουσες_επισφάλειες)
            * ((1 + (κόστος_κεφαλαίου / 365)) ** (μέρες_είσπραξης_χωρίς_έκπτωση - μέση_περίοδος_είσπραξης_απαιτήσεων))
            + (κόστος_πωλήσεων / τρέχουσες_πωλήσεις)
            * (επιπλέον_πωλήσεις_λόγω_έκπτωσης / τρέχουσες_πωλήσεις)
            * ((1 + (κόστος_κεφαλαίου / 365)) ** (μέρες_είσπραξης_χωρίς_έκπτωση - μέρες_προθεσμίας_πληρωμής_προμηθευτών))
        )
    ) / (
        ποσοστό_πωλήσεων_με_έκπτωση_μετά_την_αύξηση
        * ((τρέχουσες_πωλήσεις + επιπλέον_πωλήσεις_λόγω_έκπτωσης) / τρέχουσες_πωλήσεις)
        * (1 - %_τρέχουσες_επισφάλειες + %_μείωσης_επισφαλειών_λόγω_μετρητών)
    )

    # Εκτιμώμενη βέλτιστη έκπτωση που πρέπει να δοθεί
    βέλτιστη_έκπτωση = (1 - ((1 + (κόστος_κεφαλαίου / 365)) ** (μέρες_προθεσμίας_πληρωμής_τοις_μετρητοίς - μέση_περίοδος_είσπραξης_απαιτήσεων))) / 2

    return {
        "Μέση περίοδος είσπραξης απαιτήσεων": μέση_περίοδος_είσπραξης_απαιτήσεων,
        "Τρέχουσες απαιτήσεις": τρέχουσες_απαιτήσεις,
        "Μέση περίοδος είσπραξης μετά αύξηση": μέση_περίοδος_είσπραξης_μετά,
        "Απαιτήσεις μετά αύξηση": απαιτήσεις_μετά,
        "Αποδέσμευση κεφαλαίων": αποδέσμευση_κεφαλαίων,
        "Κέρδος από επιπλέον πωλήσεις": κέρδος_επιπλέον_πωλήσεων,
        "Κέρδος αποδέσμευσης": κέρδος_αποδέσμευσης,
        "Κέρδος μείωσης επισφαλειών": κέρδος_μείωσης_επισφαλειών,
        "Κόστος έκπτωσης": κόστος_έκπτωσης,
        "Συνολικό κέρδος": συνολικό_κέρδος,
        "Μέγιστη έκπτωση": μέγιστη_έκπτωση,
        "Βέλτιστη έκπτωση": βέλτιστη_έκπτωση,
    }
