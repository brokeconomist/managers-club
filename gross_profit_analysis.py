import streamlit as st

def format_gr_number(x):
    """
    ÎœÎ¿ÏÏ†Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î±ÏÎ¹Î¸Î¼Î¿Ï Î¼Îµ ÎºÏŒÎ¼Î¼Î± Ï‰Ï‚ Î´ÎµÎºÎ±Î´Î¹ÎºÏŒ ÎºÎ±Î¹ Ï„ÎµÎ»ÎµÎ¯Î± Ï‰Ï‚ Ï‡Î¹Î»Î¹Î¬Î´ÎµÏ‚
    Ï€Ï‡ 1234567.89 -> '1.234.567,89'
    """
    try:
        return f"{x:,.2f}".replace(",", "X").replace(".", ",").replace("X", ".")
    except:
        return str(x)

def show_gross_profit_template():
    st.title("ğŸ“ˆ Î‘Î½Î¬Î»Ï…ÏƒÎ· ÎœÎ¹ÎºÏ„Î¿Ï ÎšÎ­ÏÎ´Î¿Ï…Ï‚")

    st.write("Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎµ Ï„Î¹Ï‚ Ï„Î¹Î¼Î­Ï‚ ÎºÎ±Î¹ Î´ÎµÏ‚ Ï„Î± Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±.")

    col1, col2 = st.columns(2)

    with col1:
        Ï„Î¹Î¼Î·_Î¼Î¿Î½Î±Î´Î±Ï‚ = st.number_input("Î¤Î¹Î¼Î® ÎœÎ¿Î½Î¬Î´Î±Ï‚ (â‚¬)", value=12.00, min_value=0.0, step=0.01)
        Ï€Ï‰Î»Î¿Ï…Î¼ÎµÎ½ÎµÏ‚_Î¼Î¿Î½Î±Î´ÎµÏ‚ = st.number_input("Î Ï‰Î»Î¿ÏÎ¼ÎµÎ½ÎµÏ‚ ÎœÎ¿Î½Î¬Î´ÎµÏ‚", value=22500, min_value=0)
        ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†ÎµÏ‚ = st.number_input("Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î­Ï‚ (â‚¬)", value=1000.00, min_value=0.0, step=0.01)
        ÎµÎºÏ€Ï„Ï‰ÏƒÎµÎ¹Ï‚ = st.number_input("Î•ÎºÏ€Ï„ÏÏƒÎµÎ¹Ï‚ (â‚¬)", value=2000.00, min_value=0.0, step=0.01)
        Î±ÏÏ‡Î¹ÎºÎ¿_Î±Ï€Î¿Î¸ÎµÎ¼Î± = st.number_input("Î‘ÏÏ‡Î¹ÎºÏŒ Î‘Ï€ÏŒÎ¸ÎµÎ¼Î± (â‚¬)", value=40000.00, min_value=0.0, step=0.01)

    with col2:
        Î±Î³Î¿ÏÎµÏ‚ = st.number_input("Î‘Î³Î¿ÏÎ­Ï‚ (â‚¬)", value=132000.00, min_value=0.0, step=0.01)
        Ï„ÎµÎ»Î¹ÎºÎ¿_Î±Ï€Î¿Î¸ÎµÎ¼Î± = st.number_input("Î¤ÎµÎ»Î¹ÎºÏŒ Î‘Ï€ÏŒÎ¸ÎµÎ¼Î± (â‚¬)", value=42000.00, min_value=0.0, step=0.01)
        Î±Î¼ÎµÏƒÎ±_ÎµÏÎ³Î±Ï„Î¹ÎºÎ± = st.number_input("Î†Î¼ÎµÏƒÎ± Î•ÏÎ³Î±Ï„Î¹ÎºÎ¬ (â‚¬)", value=10000.00, min_value=0.0, step=0.01)
        Î³ÎµÎ½_Î²Î¹Î¿Î¼Î·Ï‡Î±Î½Î¹ÎºÎ± = st.number_input("Î“ÎµÎ½Î¹ÎºÎ¬ Î’Î¹Î¿Î¼Î·Ï‡Î±Î½Î¹ÎºÎ¬ (â‚¬)", value=30000.00, min_value=0.0, step=0.01)
        Î±Ï€Î¿ÏƒÎ²ÎµÏƒÎµÎ¹Ï‚ = st.number_input("Î‘Ï€Î¿ÏƒÎ²Î­ÏƒÎµÎ¹Ï‚ (â‚¬)", value=20000.00, min_value=0.0, step=0.01)

    # Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Î¯
    ÎºÎ±Î¸Î±ÏÎ­Ï‚_Ï€Ï‰Î»Î®ÏƒÎµÎ¹Ï‚ = Ï„Î¹Î¼Î·_Î¼Î¿Î½Î±Î´Î±Ï‚ * Ï€Ï‰Î»Î¿Ï…Î¼ÎµÎ½ÎµÏ‚_Î¼Î¿Î½Î±Î´ÎµÏ‚ - ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†ÎµÏ‚ - ÎµÎºÏ€Ï„Ï‰ÏƒÎµÎ¹Ï‚
    ÎºÏŒÏƒÏ„Î¿Ï‚_Ï€Ï‰Î»Î·Î¸Î­Î½Ï„Ï‰Î½ = (Î±ÏÏ‡Î¹ÎºÎ¿_Î±Ï€Î¿Î¸ÎµÎ¼Î± + Î±Î³Î¿ÏÎµÏ‚ + Î±Î¼ÎµÏƒÎ±_ÎµÏÎ³Î±Ï„Î¹ÎºÎ± + Î³ÎµÎ½_Î²Î¹Î¿Î¼Î·Ï‡Î±Î½Î¹ÎºÎ± + Î±Ï€Î¿ÏƒÎ²ÎµÏƒÎµÎ¹Ï‚) - Ï„ÎµÎ»Î¹ÎºÎ¿_Î±Ï€Î¿Î¸ÎµÎ¼Î±
    Î¼Î¹ÎºÏ„ÏŒ_ÎºÎ­ÏÎ´Î¿Ï‚ = ÎºÎ±Î¸Î±ÏÎ­Ï‚_Ï€Ï‰Î»Î®ÏƒÎµÎ¹Ï‚ - ÎºÏŒÏƒÏ„Î¿Ï‚_Ï€Ï‰Î»Î·Î¸Î­Î½Ï„Ï‰Î½
    Î¼Î¹ÎºÏ„ÏŒ_ÎºÎ­ÏÎ´Î¿Ï‚_Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ = (Î¼Î¹ÎºÏ„ÏŒ_ÎºÎ­ÏÎ´Î¿Ï‚ / ÎºÎ±Î¸Î±ÏÎ­Ï‚_Ï€Ï‰Î»Î®ÏƒÎµÎ¹Ï‚ * 100) if ÎºÎ±Î¸Î±ÏÎ­Ï‚_Ï€Ï‰Î»Î®ÏƒÎµÎ¹Ï‚ != 0 else 0

    st.markdown("---")
    st.subheader("Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±")

    st.write(f"**ÎšÎ±Î¸Î±ÏÎ­Ï‚ Î Ï‰Î»Î®ÏƒÎµÎ¹Ï‚:** â‚¬ {format_gr_number(ÎºÎ±Î¸Î±ÏÎ­Ï‚_Ï€Ï‰Î»Î®ÏƒÎµÎ¹Ï‚)}")
    st.write(f"**ÎšÏŒÏƒÏ„Î¿Ï‚ Î Ï‰Î»Î·Î¸Î­Î½Ï„Ï‰Î½:** â‚¬ {format_gr_number(ÎºÏŒÏƒÏ„Î¿Ï‚_Ï€Ï‰Î»Î·Î¸Î­Î½Ï„Ï‰Î½)}")
    st.write(f"**ÎœÎ¹ÎºÏ„ÏŒ ÎšÎ­ÏÎ´Î¿Ï‚:** â‚¬ {format_gr_number(Î¼Î¹ÎºÏ„ÏŒ_ÎºÎ­ÏÎ´Î¿Ï‚)}")
    st.write(f"**ÎœÎ¹ÎºÏ„ÏŒ ÎšÎ­ÏÎ´Î¿Ï‚ %:** {Î¼Î¹ÎºÏ„ÏŒ_ÎºÎ­ÏÎ´Î¿Ï‚_Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ:.2f}%")

if __name__ == "__main__":
    show_gross_profit_template()
